--- !tapi-tbd-v3
archs:                 [ armv7, armv7s, arm64, arm64e ]
platform:              ios
flags:                 [ flat_namespace ]
install-name:          /System/Library/PrivateFrameworks/CMImaging.framework/CMImaging
current-version:       1
compatibility-version: 1
objc-constraint:       retain_release
exports:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    re-exports:           [ /System/Library/PrivateFrameworks/CMCaptureCore.framework/CMCaptureCore ]
    symbols:              [ _CopyPixelBuffer, _Create420PixelBufferFromPGMFiles,
                            _CreatePixelBuffer, _CreatePixelBufferExtended,
                            _CreatePixelBufferExtendedFromFile,
                            _CreatePixelBufferFromCFData,
                            _CreatePixelBufferFromFile,
                            _CreatePixelBufferFromPGMFile,
                            _CreatePixelBufferPool, _CreateSampleBuffer,
                            _DeriveImageWidthHeightFromFilesize,
                            _DerivePixelFormatTypeFromFilename, _FigMetalDecRef,
                            _FigMetalIncRef, _FigMetalIsValid,
                            _FillPixelBufferWithRandomData, _GetPixelSizeInBytes,
                            _GuessWidth, _PixelBufferLineIterator,
                            _Write420PixelBufferChannelToPGMFile,
                            _WriteFloat16PixelBufferChannelToPGMFile,
                            _WriteOneComponent8PixelBufferToPGMFile,
                            _WritePixelBufferToFile ]
    objc-classes:         [ CMMTLCommandBuffer, CMMTLCommandQueue, CMMTLDevice,
                            FigM2MController, FigMetalAllocator,
                            FigMetalAllocatorDescriptor,
                            FigMetalAllocatorMetadata, FigMetalBufferAllocator,
                            FigMetalContext, FigMetalExecutionStatus,
                            FigMetalHeapAllocator, FigMetalNoAliasingAllocator,
                            FigMetalTextureDescriptor, FigMetalTextureStub,
                            FigMetalUtils, InterceptConfig ]
    objc-ivars:           [ CMMTLCommandBuffer._cmCommandQueue,
                            CMMTLCommandBuffer._cmLabel,
                            CMMTLCommandBuffer._commandBuffer,
                            CMMTLCommandBuffer._interceptConfig,
                            CMMTLCommandBuffer._unretained,
                            CMMTLCommandQueue._cmDevice,
                            CMMTLCommandQueue._commandQueue,
                            CMMTLCommandQueue._interceptConfig,
                            CMMTLDevice._device, CMMTLDevice._interceptConfig,
                            FigM2MController._accelRef, FigM2MController._cap,
                            FigM2MController._runOptions,
                            FigM2MController._useCustomCoeff,
                            FigMetalAllocator._allocatorType,
                            FigMetalAllocator._dryRun,
                            FigMetalAllocator._isExternalMemory,
                            FigMetalAllocator._label,
                            FigMetalAllocator._largestOccupiedOffset,
                            FigMetalAllocator._memSize,
                            FigMetalAllocator._rangeAllocator,
                            FigMetalAllocator._resourceOptions,
                            FigMetalAllocator._storage,
                            FigMetalAllocator._texDesc, FigMetalAllocator._utils,
                            FigMetalAllocator.subAllocator,
                            FigMetalAllocator.usedSize,
                            FigMetalAllocatorDescriptor._dryRun,
                            FigMetalAllocatorDescriptor._externalBuffer,
                            FigMetalAllocatorDescriptor._label,
                            FigMetalAllocatorDescriptor._memSize,
                            FigMetalAllocatorDescriptor._resourceOptions,
                            FigMetalAllocatorDescriptor._wireMemory,
                            FigMetalAllocatorMetadata._allocator,
                            FigMetalAllocatorMetadata._refCount,
                            FigMetalBufferAllocator._alignment,
                            FigMetalBufferAllocator._buffer,
                            FigMetalBufferAllocator._memSize,
                            FigMetalBufferAllocator._utils,
                            FigMetalContext._allocator,
                            FigMetalContext._allowCommandBufferCommitsOnlyByForceCommit,
                            FigMetalContext._commandBuffer,
                            FigMetalContext._commandQueue,
                            FigMetalContext._device, FigMetalContext._dryRun,
                            FigMetalContext._fullRangeVertexBuf,
                            FigMetalContext._fullRangeVertexDesc,
                            FigMetalContext._library,
                            FigMetalContext._pipelineLibrary,
                            FigMetalExecutionStatus._completedCommandBuffersCount,
                            FigMetalExecutionStatus._failedCommandBuffers,
                            FigMetalExecutionStatus._status,
                            FigMetalHeapAllocator._alignment,
                            FigMetalHeapAllocator._heap,
                            FigMetalHeapAllocator._memSize,
                            FigMetalHeapAllocator._utils,
                            FigMetalNoAliasingAllocator._alignment,
                            FigMetalNoAliasingAllocator._memSize,
                            FigMetalNoAliasingAllocator._utils,
                            FigMetalTextureDescriptor._desc,
                            FigMetalTextureDescriptor._isLinear,
                            FigMetalTextureDescriptor._label,
                            FigMetalTextureStub._depth,
                            FigMetalTextureStub._height,
                            FigMetalTextureStub._label,
                            FigMetalTextureStub._offset,
                            FigMetalTextureStub._pixelFormat,
                            FigMetalTextureStub._textureType,
                            FigMetalTextureStub._usage,
                            FigMetalTextureStub._width, FigMetalUtils._device,
                            InterceptConfig._executionStatus,
                            InterceptConfig._interceptLevel,
                            InterceptConfig._waitUntilCompleted,
                            InterceptConfig._waitUntilScheduled ]
undefineds:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _CFArrayGetValueAtIndex, _CFDictionaryCreateMutable,
                            _CFDictionaryGetValue, _CFDictionaryRemoveValue,
                            _CFDictionarySetValue, _CFNumberGetValue, _CFRelease,
                            _CGRectEqualToRect, _CGRectIsNull, _CGRectNull,
                            _CMSampleBufferCreateForImageBuffer,
                            _CMVideoFormatDescriptionCreateForImageBuffer,
                            _CVPixelBufferCreate, _CVPixelBufferGetAttributes,
                            _CVPixelBufferGetBaseAddress,
                            _CVPixelBufferGetBaseAddressOfPlane,
                            _CVPixelBufferGetBytesPerRow,
                            _CVPixelBufferGetBytesPerRowOfPlane,
                            _CVPixelBufferGetExtendedPixels,
                            _CVPixelBufferGetHeight,
                            _CVPixelBufferGetHeightOfPlane,
                            _CVPixelBufferGetIOSurface,
                            _CVPixelBufferGetPixelFormatType,
                            _CVPixelBufferGetPlaneCount, _CVPixelBufferGetWidth,
                            _CVPixelBufferGetWidthOfPlane,
                            _CVPixelBufferIsPlanar,
                            _CVPixelBufferLockBaseAddress,
                            _CVPixelBufferPoolCreate,
                            _CVPixelBufferUnlockBaseAddress,
                            _CVPixelFormatDescriptionCreateWithPixelFormatType,
                            _FigCFDictionaryGetInt32IfPresent,
                            _FigCreateIOSurfacePropertiesDictionary,
                            _FigCreatePixelBufferCacheModeArray,
                            _FigGetCFPreferenceNumberWithDefault,
                            _FigSignalErrorAt, _IOObjectRelease,
                            _IORegistryEntrySearchCFProperty,
                            _IOServiceGetMatchingService, _IOServiceMatching,
                            _IOSurfaceAcceleratorCreate,
                            _IOSurfaceAcceleratorGetHistogram,
                            _IOSurfaceAcceleratorSetCustomFilter,
                            _IOSurfaceAcceleratorTransformSurface,
                            _IOSurfaceCreate,
                            _IOSurfaceGetCompressionTypeOfPlane,
                            _IOSurfaceGetHeightOfPlane, _IOSurfaceGetID,
                            _IOSurfaceGetPlaneCount, _IOSurfaceGetWidthOfPlane,
                            _IOSurfaceSetValue, _MTLCreateSystemDefaultDevice,
                            _MTLPixelFormatGetInfoForDevice,
                            _MTLRangeAllocatorAllocate,
                            _MTLRangeAllocatorDeallocate,
                            _MTLRangeAllocatorDestroy,
                            _MTLRangeAllocatorGetFreeCount,
                            _MTLRangeAllocatorInit, __Block_object_assign,
                            __Block_object_dispose, __NSConcreteGlobalBlock,
                            __NSConcreteStackBlock, __Unwind_Resume,
                            ___CFConstantStringClassReference,
                            ___NSDictionary0__struct, ___assert_rtn,
                            ___kCFBooleanTrue, ___objc_personality_v0,
                            ___stack_chk_fail, ___stack_chk_guard,
                            __objc_empty_cache, _arc4random, _calloc,
                            _dispatch_data_create, _dispatch_get_global_queue,
                            _dispatch_once, _expf, _fclose, _ferror, _fgetc, _fopen,
                            _fprintf, _fputc, _fread, _free, _fscanf, _fwrite,
                            _gGMFigKTraceEnabled, _kCFAllocatorDefault,
                            _kCFBooleanFalse, _kCFBooleanTrue,
                            _kCFTypeDictionaryKeyCallBacks,
                            _kCFTypeDictionaryValueCallBacks,
                            _kCVPixelBufferBytesPerRowAlignmentKey,
                            _kCVPixelBufferCacheModeKey,
                            _kCVPixelBufferExtendedPixelsBottomKey,
                            _kCVPixelBufferIOSurfacePropertiesKey,
                            _kCVPixelBufferPoolMinimumBufferCountKey,
                            _kCVPixelFormatBitsPerBlock,
                            _kCVPixelFormatBlockWidth, _kCVPixelFormatPlanes,
                            _kIOMasterPortDefault,
                            _kIOSurfaceAcceleratorHistogramBinMode,
                            _kIOSurfaceAcceleratorHistogramHeight,
                            _kIOSurfaceAcceleratorHistogramOffsetX,
                            _kIOSurfaceAcceleratorHistogramOffsetY,
                            _kIOSurfaceAcceleratorHistogramWidth,
                            _kIOSurfaceAcceleratorSymmetricTransformKey,
                            _kIOSurfaceAcceleratorUseCustomFilter,
                            _kIOSurfaceAllocSize, _kIOSurfaceCacheMode,
                            _kIOSurfaceName, _kIOSurfaceNonPurgeable,
                            _kIOSurfacePreallocPages, _kIOSurfacePrefetchPages,
                            _kIOSurfaceUseReserve, _kdebug_trace, _malloc, _memcpy,
                            _objc_alloc, _objc_alloc_init,
                            _objc_autoreleaseReturnValue,
                            _objc_enumerationMutation, _objc_getAssociatedObject,
                            _objc_getProperty, _objc_msgSend, _objc_msgSendSuper2,
                            _objc_opt_class, _objc_opt_isKindOfClass,
                            _objc_opt_new, _objc_opt_respondsToSelector,
                            _objc_release, _objc_retain, _objc_retainAutorelease,
                            _objc_retainAutoreleaseReturnValue,
                            _objc_retainAutoreleasedReturnValue,
                            _objc_setAssociatedObject,
                            _objc_setProperty_atomic_copy, _objc_storeStrong,
                            _objc_sync_enter, _objc_sync_exit,
                            _objc_unsafeClaimAutoreleasedReturnValue, _sinf, _stat,
                            dyld_stub_binder ]
    objc-classes:         [ MTLComputePipelineDescriptor, MTLHeapDescriptor,
                            MTLRenderPassDescriptor, MTLTextureDescriptor,
                            MTLVertexDescriptor, NSConstantIntegerNumber, NSData,
                            NSDictionary, NSMutableArray, NSMutableDictionary,
                            NSMutableString, NSNumber, NSObject, NSString ]
...
